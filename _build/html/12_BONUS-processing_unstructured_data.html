
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>21. Processing unstructured data &#8212; Data analytics in accounting</title>
    
  <link rel="stylesheet" href="_static/css/index.f658d18f9b420779cfdf24aa0a7e2d77.css">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/sphinx-book-theme.40e2e510f6b7d1648584402491bb10fe.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="_static/js/index.d3f166471bb80abb5163.js">

    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.d31b09fe5c1d09cb49b26a786de4a05d.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="11. Neural network models" href="11_Neural_NLP_methods.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="index.html">
  
  <img src="_static/logo.png" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">Data analytics in accounting</h1>
  
</a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="book_intro.html">
   Introduction to data analytics in accounting
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Basic data analytics in accounting
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="0_installing_Python.html">
   1. Installing Python
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="1_Intro_to_Python.html">
   2. Introduction to Python
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2_Pandas_basics.html">
   3. Pandas data basics
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="3_Pandas_data_preprocessing.html">
   4. Pandas Data preprocessing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="4_Connecting_with_accounting_databases.html">
   5. Connecting with accounting databases
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="5_Visualisation_with_Python.html">
   6. Visualisations with Python
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="6_Basic_statistics_with_Python.html">
   7. Basic statistics and time series analysis with Python
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Machine learning in accounting
 </span>
</p>
<ul class="current nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="7.1_ML_for_structured_data-classification.html">
   1. Machine learning for structured data - Classification
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="7.2_ML_for_structured_data-regression.html">
   2. Machine learning for structured data - Regression
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="7.3_ML_for_structured_data-xgboost_example.html">
   3. Xgboost, state-of-the-art ensemble method for structured data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="7.3_ML_for_structured_data-xgboost_example.html#shap-analysis">
   4. SHAP analysis
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="7.3_ML_for_structured_data-xgboost_example.html#gam-model">
   5. GAM MODEL
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="8_Decision_making_in_accounting.html">
   6. Decision making with ML in accounting
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="9_Deep_learning_in_accounting.html">
   7. Deep learning in accounting
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="9.1_Bonus_example.html">
   8. Example - starting from scratch
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="10_NLP_in_accounting.html">
   9. Introduction to natural language processing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="10.1_LDA_bonus_example.html">
   10. Basic LDA example - An analysis of ~200 scientific articles
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="11_Neural_NLP_methods.html">
   11. Neural network models
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="11_Neural_NLP_methods.html#pretrained-language-models">
   12. Pretrained language models
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="11_Neural_NLP_methods.html#sentiment-modelling">
   13. Sentiment Modelling
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="11_Neural_NLP_methods.html#nlp-example-imdb">
   14. NLP example - IMDB
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="11_Neural_NLP_methods.html#densely-connected-network">
   15. Densely connected network
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="11_Neural_NLP_methods.html#recurrent-neural-networks">
   16. Recurrent neural networks
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="11_Neural_NLP_methods.html#long-short-term-memory">
   17. Long short-term memory
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="11_Neural_NLP_methods.html#neural-topic-analysis">
   18. Neural topic analysis
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="11_Neural_NLP_methods.html#named-entity-recognition">
   19. Named entity recognition
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="11_Neural_NLP_methods.html#advanced-summarisation">
   20. Advanced summarisation
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   21. Processing unstructured data
  </a>
 </li>
</ul>

</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/12_BONUS-processing_unstructured_data.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

        <!-- Source interaction buttons -->


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
                title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/executablebooks/jupyter-book/master?urlpath=tree/12_BONUS-processing_unstructured_data.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#extracting-accounting-data-from-different-document-types">
   21.1. Extracting accounting data from different document types
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#json">
     21.1.1. JSON
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#xml">
     21.1.2. XML
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#xblr">
     21.1.3. XBLR
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#pdf">
     21.1.4. PDF
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#extracting-data-from-the-internet">
   21.2. Extracting data from the Internet
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#social-media">
     21.2.1. Social media
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#structured-data">
     21.2.2. Structured data
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#processing-text-data">
   21.3. Processing text data
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#regular-experssions">
     21.3.1. Regular experssions
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#processing-video-and-images">
   21.4. Processing video and images
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#satellite-data">
     21.4.1. Satellite data
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#speech-recognition-and-synthesis">
   21.5. Speech recognition and synthesis
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#feature-engineering">
   21.6. Feature engineering
  </a>
 </li>
</ul>

        </nav>
        
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="processing-unstructured-data">
<h1><span class="section-number">21. </span>Processing unstructured data<a class="headerlink" href="#processing-unstructured-data" title="Permalink to this headline">¶</a></h1>
<div class="section" id="extracting-accounting-data-from-different-document-types">
<h2><span class="section-number">21.1. </span>Extracting accounting data from different document types<a class="headerlink" href="#extracting-accounting-data-from-different-document-types" title="Permalink to this headline">¶</a></h2>
<div class="section" id="json">
<h3><span class="section-number">21.1.1. </span>JSON<a class="headerlink" href="#json" title="Permalink to this headline">¶</a></h3>
<p>JSON stands for JavaScript Object Notation. It is a popular format for transporting and storing data, especially in web-page management. Python has a built-in library for encoding/decoding JSON files. In the following are basic examples how to use it.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">json</span>
</pre></div>
</div>
</div>
</div>
<p>The format of JSON is very similar to a Python dictionary.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">json_example</span> <span class="o">=</span> <span class="s1">&#39;{ &quot;Company&quot;:&quot;Nokia&quot;, &quot;Country&quot;:&quot;Finland&quot;, &quot;ROA&quot;:0.12}&#39;</span>
</pre></div>
</div>
</div>
</div>
<p>loads() turns JSONs to dictionaries.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">result_dict</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">json_example</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">result_dict</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;Company&#39;: &#39;Nokia&#39;, &#39;Country&#39;: &#39;Finland&#39;, &#39;ROA&#39;: 0.12}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">result_dict</span><span class="p">[</span><span class="s1">&#39;ROA&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.12
</pre></div>
</div>
</div>
</div>
<p>dumps() can be used to change dictionaries to JSON objects.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pyth_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;Company&quot;</span><span class="p">:</span><span class="s2">&quot;Apple&quot;</span><span class="p">,</span> <span class="s2">&quot;Country&quot;</span><span class="p">:</span><span class="s2">&quot;USA&quot;</span><span class="p">,</span> <span class="s2">&quot;ROA&quot;</span><span class="p">:</span><span class="mf">0.17</span><span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">results_json</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">pyth_dict</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">results_json</span> <span class="c1"># Notice the outer single quotation marks.</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;{&quot;Company&quot;: &quot;Apple&quot;, &quot;Country&quot;: &quot;USA&quot;, &quot;ROA&quot;: 0.17}&#39;
</pre></div>
</div>
</div>
</div>
<p>More specifically, dumps() will change Python objects into JSON objects with the following rules:</p>
<ul class="simple">
<li><p>Python dict to JSON object</p></li>
<li><p>Python list to JSON array</p></li>
<li><p>Python tuple to JSON array</p></li>
<li><p>Python string to JSON string</p></li>
<li><p>Python int to JSON number</p></li>
<li><p>Python float to JSON number</p></li>
<li><p>Python boolean to JSON boolean</p></li>
<li><p>Python None to JSON null</p></li>
</ul>
<p>Very often, data providers set up API services to connect applications to databases. Often, these API services will use XML or JSON formats to exchange data between the client and the server. Therefore, it is essential to know how to read these files.</p>
<p>With json-library, you can use the built-in open() function to open a json file and json.loads() to transfer it to a Python object.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fd</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;company_tickers.json&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">comp_dict</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">fd</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">list</span><span class="p">(</span><span class="n">comp_dict</span><span class="o">.</span><span class="n">items</span><span class="p">())[:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[(&#39;0&#39;, {&#39;cik_str&#39;: 1750, &#39;ticker&#39;: &#39;AIR&#39;, &#39;title&#39;: &#39;AAR CORP&#39;}),
 (&#39;1&#39;, {&#39;cik_str&#39;: 1800, &#39;ticker&#39;: &#39;ABT&#39;, &#39;title&#39;: &#39;ABBOTT LABORATORIES&#39;}),
 (&#39;2&#39;, {&#39;cik_str&#39;: 1961, &#39;ticker&#39;: &#39;WDDD&#39;, &#39;title&#39;: &#39;WORLDS INC&#39;}),
 (&#39;3&#39;, {&#39;cik_str&#39;: 2034, &#39;ticker&#39;: &#39;ACET&#39;, &#39;title&#39;: &#39;ACETO CORP&#39;}),
 (&#39;4&#39;, {&#39;cik_str&#39;: 2034, &#39;ticker&#39;: &#39;ACETQ&#39;, &#39;title&#39;: &#39;ACETO CORP&#39;}),
 (&#39;5&#39;, {&#39;cik_str&#39;: 2098, &#39;ticker&#39;: &#39;ACU&#39;, &#39;title&#39;: &#39;ACME UNITED CORP&#39;}),
 (&#39;6&#39;,
  {&#39;cik_str&#39;: 2135,
   &#39;ticker&#39;: &#39;ACS&#39;,
   &#39;title&#39;: &#39;AFFILIATED COMPUTER SERVICES INC&#39;}),
 (&#39;7&#39;,
  {&#39;cik_str&#39;: 2178,
   &#39;ticker&#39;: &#39;AE&#39;,
   &#39;title&#39;: &#39;ADAMS RESOURCES &amp; ENERGY, INC.&#39;}),
 (&#39;8&#39;, {&#39;cik_str&#39;: 2186, &#39;ticker&#39;: &#39;BKTI&#39;, &#39;title&#39;: &#39;BK Technologies Corp&#39;}),
 (&#39;9&#39;,
  {&#39;cik_str&#39;: 2230,
   &#39;ticker&#39;: &#39;ADX&#39;,
   &#39;title&#39;: &#39;ADAMS DIVERSIFIED EQUITY FUND, INC.&#39;})]
</pre></div>
</div>
</div>
</div>
<p>Pandas has also functios to read JSON objects</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">json_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_json</span><span class="p">(</span><span class="s1">&#39;company_tickers.json&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">json_df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
      <th>5</th>
      <th>6</th>
      <th>7</th>
      <th>8</th>
      <th>9</th>
      <th>...</th>
      <th>13623</th>
      <th>13624</th>
      <th>13625</th>
      <th>13626</th>
      <th>13627</th>
      <th>13628</th>
      <th>13629</th>
      <th>13630</th>
      <th>13631</th>
      <th>13632</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>cik_str</th>
      <td>1750</td>
      <td>1800</td>
      <td>1961</td>
      <td>2034</td>
      <td>2034</td>
      <td>2098</td>
      <td>2135</td>
      <td>2178</td>
      <td>2186</td>
      <td>2230</td>
      <td>...</td>
      <td>1787791</td>
      <td>1788028</td>
      <td>1788028</td>
      <td>1788841</td>
      <td>1789760</td>
      <td>1789760</td>
      <td>1789832</td>
      <td>1790625</td>
      <td>1791091</td>
      <td>1791091</td>
    </tr>
    <tr>
      <th>ticker</th>
      <td>AIR</td>
      <td>ABT</td>
      <td>WDDD</td>
      <td>ACET</td>
      <td>ACETQ</td>
      <td>ACU</td>
      <td>ACS</td>
      <td>AE</td>
      <td>BKTI</td>
      <td>ADX</td>
      <td>...</td>
      <td>JIH</td>
      <td>AMHC</td>
      <td>AMHCU</td>
      <td>GRNV</td>
      <td>CIIC</td>
      <td>CIICU</td>
      <td>HESM</td>
      <td>LIVK</td>
      <td>HCCO</td>
      <td>HCCOU</td>
    </tr>
    <tr>
      <th>title</th>
      <td>AAR CORP</td>
      <td>ABBOTT LABORATORIES</td>
      <td>WORLDS INC</td>
      <td>ACETO CORP</td>
      <td>ACETO CORP</td>
      <td>ACME UNITED CORP</td>
      <td>AFFILIATED COMPUTER SERVICES INC</td>
      <td>ADAMS RESOURCES &amp; ENERGY, INC.</td>
      <td>BK Technologies Corp</td>
      <td>ADAMS DIVERSIFIED EQUITY FUND, INC.</td>
      <td>...</td>
      <td>Juniper Industrial Holdings, Inc.</td>
      <td>Amplitude Healthcare Acquisition Corp</td>
      <td>Amplitude Healthcare Acquisition Corp</td>
      <td>GreenVision Acquisition Corp.</td>
      <td>CIIG Merger Corp.</td>
      <td>CIIG Merger Corp.</td>
      <td>Hess Midstream LP</td>
      <td>LIV Capital Acquisition Corp.</td>
      <td>Healthcare Merger Corp.</td>
      <td>Healthcare Merger Corp.</td>
    </tr>
  </tbody>
</table>
<p>3 rows × 13633 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">json_df</span><span class="o">.</span><span class="n">transpose</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>cik_str</th>
      <th>ticker</th>
      <th>title</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1750</td>
      <td>AIR</td>
      <td>AAR CORP</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1800</td>
      <td>ABT</td>
      <td>ABBOTT LABORATORIES</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1961</td>
      <td>WDDD</td>
      <td>WORLDS INC</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2034</td>
      <td>ACET</td>
      <td>ACETO CORP</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2034</td>
      <td>ACETQ</td>
      <td>ACETO CORP</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>13628</th>
      <td>1789760</td>
      <td>CIICU</td>
      <td>CIIG Merger Corp.</td>
    </tr>
    <tr>
      <th>13629</th>
      <td>1789832</td>
      <td>HESM</td>
      <td>Hess Midstream LP</td>
    </tr>
    <tr>
      <th>13630</th>
      <td>1790625</td>
      <td>LIVK</td>
      <td>LIV Capital Acquisition Corp.</td>
    </tr>
    <tr>
      <th>13631</th>
      <td>1791091</td>
      <td>HCCO</td>
      <td>Healthcare Merger Corp.</td>
    </tr>
    <tr>
      <th>13632</th>
      <td>1791091</td>
      <td>HCCOU</td>
      <td>Healthcare Merger Corp.</td>
    </tr>
  </tbody>
</table>
<p>13633 rows × 3 columns</p>
</div></div></div>
</div>
</div>
<div class="section" id="xml">
<h3><span class="section-number">21.1.2. </span>XML<a class="headerlink" href="#xml" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://docs.python.org/3/library/xml.etree.elementtree.html">https://docs.python.org/3/library/xml.etree.elementtree.html</a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">read_</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="xblr">
<h3><span class="section-number">21.1.3. </span>XBLR<a class="headerlink" href="#xblr" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://pypi.org/project/python-xbrl/">https://pypi.org/project/python-xbrl/</a></p>
<p><a class="reference external" href="https://www.codeproject.com/Articles/1227268/Accessing-Financial-Reports-in-the-EDGAR-Database">https://www.codeproject.com/Articles/1227268/Accessing-Financial-Reports-in-the-EDGAR-Database</a></p>
<p><a class="reference external" href="https://www.codeproject.com/Articles/1227765/Parsing-XBRL-with-Python">https://www.codeproject.com/Articles/1227765/Parsing-XBRL-with-Python</a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">sys</span>

<span class="c1"># Access page</span>
<span class="n">cik</span> <span class="o">=</span> <span class="s1">&#39;0000051143&#39;</span>
<span class="nb">type</span> <span class="o">=</span> <span class="s1">&#39;10-K&#39;</span>
<span class="n">dateb</span> <span class="o">=</span> <span class="s1">&#39;20160101&#39;</span>

<span class="c1"># Obtain HTML for search page</span>
<span class="n">base_url</span> <span class="o">=</span> <span class="s2">&quot;https://www.sec.gov/cgi-bin/browse-edgar?action=getcompany&amp;CIK=</span><span class="si">{}</span><span class="s2">&amp;type=</span><span class="si">{}</span><span class="s2">&amp;dateb=</span><span class="si">{}</span><span class="s2">&quot;</span>
<span class="n">edgar_resp</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">base_url</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">cik</span><span class="p">,</span> <span class="nb">type</span><span class="p">,</span> <span class="n">dateb</span><span class="p">))</span>
<span class="n">edgar_str</span> <span class="o">=</span> <span class="n">edgar_resp</span><span class="o">.</span><span class="n">text</span>

<span class="c1"># Find the document link</span>
<span class="n">doc_link</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">edgar_str</span><span class="p">,</span> <span class="s1">&#39;html.parser&#39;</span><span class="p">)</span>
<span class="n">table_tag</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;table&#39;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s1">&#39;tableFile2&#39;</span><span class="p">)</span>
<span class="n">rows</span> <span class="o">=</span> <span class="n">table_tag</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;tr&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">rows</span><span class="p">:</span>
    <span class="n">cells</span> <span class="o">=</span> <span class="n">row</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;td&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">cells</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">3</span><span class="p">:</span>
        <span class="k">if</span> <span class="s1">&#39;2015&#39;</span> <span class="ow">in</span> <span class="n">cells</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">:</span>
            <span class="n">doc_link</span> <span class="o">=</span> <span class="s1">&#39;https://www.sec.gov&#39;</span> <span class="o">+</span> <span class="n">cells</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">a</span><span class="p">[</span><span class="s1">&#39;href&#39;</span><span class="p">]</span>

<span class="c1"># Exit if document link couldn&#39;t be found</span>
<span class="k">if</span> <span class="n">doc_link</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Couldn&#39;t find the document link&quot;</span><span class="p">)</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>

<span class="c1"># Obtain HTML for document page</span>
<span class="n">doc_resp</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">doc_link</span><span class="p">)</span>
<span class="n">doc_str</span> <span class="o">=</span> <span class="n">doc_resp</span><span class="o">.</span><span class="n">text</span>

<span class="c1"># Find the XBRL link</span>
<span class="n">xbrl_link</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">doc_str</span><span class="p">,</span> <span class="s1">&#39;html.parser&#39;</span><span class="p">)</span>
<span class="n">table_tag</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;table&#39;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s1">&#39;tableFile&#39;</span><span class="p">,</span> <span class="n">summary</span><span class="o">=</span><span class="s1">&#39;Data Files&#39;</span><span class="p">)</span>
<span class="n">rows</span> <span class="o">=</span> <span class="n">table_tag</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;tr&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">rows</span><span class="p">:</span>
    <span class="n">cells</span> <span class="o">=</span> <span class="n">row</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;td&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">cells</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">3</span><span class="p">:</span>
        <span class="k">if</span> <span class="s1">&#39;INS&#39;</span> <span class="ow">in</span> <span class="n">cells</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">:</span>
            <span class="n">xbrl_link</span> <span class="o">=</span> <span class="s1">&#39;https://www.sec.gov&#39;</span> <span class="o">+</span> <span class="n">cells</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">a</span><span class="p">[</span><span class="s1">&#39;href&#39;</span><span class="p">]</span>

<span class="c1"># Obtain XBRL text from document</span>
<span class="n">xbrl_resp</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">xbrl_link</span><span class="p">)</span>
<span class="n">xbrl_str</span> <span class="o">=</span> <span class="n">xbrl_resp</span><span class="o">.</span><span class="n">text</span>

<span class="c1"># Find and print stockholder&#39;s equity</span>
<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">xbrl_str</span><span class="p">,</span> <span class="s1">&#39;lxml&#39;</span><span class="p">)</span>
<span class="n">tag_list</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">()</span>
<span class="k">for</span> <span class="n">tag</span> <span class="ow">in</span> <span class="n">tag_list</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">tag</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;us-gaap:stockholdersequity&#39;</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Stockholder&#39;s equity: &quot;</span> <span class="o">+</span> <span class="n">tag</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="pdf">
<h3><span class="section-number">21.1.4. </span>PDF<a class="headerlink" href="#pdf" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pdfminer.pdfparser</span> <span class="kn">import</span> <span class="n">PDFParser</span>
<span class="kn">from</span> <span class="nn">pdfminer.pdfdocument</span> <span class="kn">import</span> <span class="n">PDFDocument</span>
<span class="kn">from</span> <span class="nn">pdfminer.pdfpage</span> <span class="kn">import</span> <span class="n">PDFPage</span>
<span class="c1"># From PDFInterpreter import both PDFResourceManager and PDFPageInterpreter</span>
<span class="kn">from</span> <span class="nn">pdfminer.pdfinterp</span> <span class="kn">import</span> <span class="n">PDFResourceManager</span><span class="p">,</span> <span class="n">PDFPageInterpreter</span>
<span class="kn">from</span> <span class="nn">pdfminer.pdfdevice</span> <span class="kn">import</span> <span class="n">PDFDevice</span>
<span class="c1"># Import this to raise exception whenever text extraction from PDF is not allowed</span>
<span class="kn">from</span> <span class="nn">pdfminer.pdfpage</span> <span class="kn">import</span> <span class="n">PDFTextExtractionNotAllowed</span>
<span class="kn">from</span> <span class="nn">pdfminer.layout</span> <span class="kn">import</span> <span class="n">LAParams</span><span class="p">,</span> <span class="n">LTTextBox</span><span class="p">,</span> <span class="n">LTTextLine</span>
<span class="kn">from</span> <span class="nn">pdfminer.converter</span> <span class="kn">import</span> <span class="n">PDFPageAggregator</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">convert_pdfminer</span><span class="p">(</span><span class="n">fname</span><span class="p">):</span>
        <span class="n">fp</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">fname</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span>
        <span class="n">parser</span> <span class="o">=</span> <span class="n">PDFParser</span><span class="p">(</span><span class="n">fp</span><span class="p">)</span>
        <span class="n">doc</span> <span class="o">=</span> <span class="n">PDFDocument</span><span class="p">(</span><span class="n">parser</span><span class="p">)</span>
        <span class="n">rsrcmgr</span> <span class="o">=</span> <span class="n">PDFResourceManager</span><span class="p">()</span>
        <span class="n">laparams</span> <span class="o">=</span> <span class="n">LAParams</span><span class="p">()</span>
        <span class="n">device</span> <span class="o">=</span> <span class="n">PDFPageAggregator</span><span class="p">(</span><span class="n">rsrcmgr</span><span class="p">,</span> <span class="n">laparams</span><span class="o">=</span><span class="n">laparams</span><span class="p">)</span>
        <span class="n">interpreter</span> <span class="o">=</span> <span class="n">PDFPageInterpreter</span><span class="p">(</span><span class="n">rsrcmgr</span><span class="p">,</span> <span class="n">device</span><span class="p">)</span>
        <span class="n">text</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="k">for</span> <span class="n">page</span> <span class="ow">in</span> <span class="n">PDFPage</span><span class="o">.</span><span class="n">create_pages</span><span class="p">(</span><span class="n">doc</span><span class="p">):</span>
            <span class="n">interpreter</span><span class="o">.</span><span class="n">process_page</span><span class="p">(</span><span class="n">page</span><span class="p">)</span>
            <span class="n">layout</span> <span class="o">=</span> <span class="n">device</span><span class="o">.</span><span class="n">get_result</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">lt_obj</span> <span class="ow">in</span> <span class="n">layout</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">lt_obj</span><span class="p">,</span> <span class="n">LTTextBox</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">lt_obj</span><span class="p">,</span> <span class="n">LTTextLine</span><span class="p">):</span>
                    <span class="n">text</span> <span class="o">+=</span> <span class="n">lt_obj</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">text</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="extracting-data-from-the-internet">
<h2><span class="section-number">21.2. </span>Extracting data from the Internet<a class="headerlink" href="#extracting-data-from-the-internet" title="Permalink to this headline">¶</a></h2>
<div class="section" id="social-media">
<h3><span class="section-number">21.2.1. </span>Social media<a class="headerlink" href="#social-media" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="structured-data">
<h3><span class="section-number">21.2.2. </span>Structured data<a class="headerlink" href="#structured-data" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">test_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_html</span><span class="p">(</span><span class="s1">&#39;https://www.nordnet.fi/markkinakatsaus/osakekurssit?selectedTab=keyFigures&amp;sortField=pe&amp;sortOrder=asc&amp;exchangeCountry=FI&#39;</span><span class="p">,</span><span class="n">decimal</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">work_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>

<span class="n">work_df</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">test_df</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;Nimi&#39;</span><span class="p">]</span>

<span class="n">work_df</span><span class="p">[</span><span class="s1">&#39;P/E&#39;</span><span class="p">]</span><span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span> <span class="ow">in</span> <span class="n">test_df</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;P/S&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)]</span>

<span class="n">work_df</span><span class="p">[</span><span class="s1">&#39;P/S&#39;</span><span class="p">]</span><span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span> <span class="ow">in</span> <span class="n">test_df</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;P/B&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)]</span>

<span class="n">work_df</span><span class="p">[</span><span class="s1">&#39;P/B&#39;</span><span class="p">]</span><span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span> <span class="ow">in</span> <span class="n">test_df</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;Tulos/osake&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)]</span>

<span class="n">temp_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">test_df</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;Osinkotuotto&#39;</span><span class="p">]:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">temp_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="n">temp_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        
<span class="n">work_df</span><span class="p">[</span><span class="s1">&#39;Tulos/osake&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">temp_list</span>

<span class="n">temp_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">test_df</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;Osinko/osake&#39;</span><span class="p">]:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">temp_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="n">temp_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        
<span class="n">work_df</span><span class="p">[</span><span class="s1">&#39;Osinkotuotto&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">temp_list</span>

<span class="n">temp_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">test_df</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;Unnamed: 11&#39;</span><span class="p">]:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">temp_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="n">temp_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        
<span class="n">work_df</span><span class="p">[</span><span class="s1">&#39;Lainoitusaste&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">temp_list</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">work_df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Name</th>
      <th>P/E</th>
      <th>P/S</th>
      <th>P/B</th>
      <th>Tulos/osake</th>
      <th>Osinkotuotto</th>
      <th>Lainoitusaste</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Nexstim Oyj</td>
      <td>0.26</td>
      <td>2.72</td>
      <td>84.03</td>
      <td>0.22</td>
      <td>–</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Fondia Oyj</td>
      <td>7.61</td>
      <td>1.46</td>
      <td>4.93</td>
      <td>0.97</td>
      <td>–</td>
      <td>10</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Sievi Capital plc</td>
      <td>8.38</td>
      <td>4.88</td>
      <td>0.89</td>
      <td>0.12</td>
      <td>–</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Scanfil Plc</td>
      <td>8.54</td>
      <td>0.63</td>
      <td>2.06</td>
      <td>0.68</td>
      <td>2.62</td>
      <td>40</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Honkarakenne Oyj B</td>
      <td>8.58</td>
      <td>0.46</td>
      <td>1.72</td>
      <td>0.43</td>
      <td>–</td>
      <td>10</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>95</th>
      <td>KONE Corporation</td>
      <td>39.22</td>
      <td>3.67</td>
      <td>12.74</td>
      <td>1.81</td>
      <td>2.39</td>
      <td>85</td>
    </tr>
    <tr>
      <th>96</th>
      <td>Gofore Plc</td>
      <td>42.74</td>
      <td>2.63</td>
      <td>5.78</td>
      <td>0.3</td>
      <td>1.56</td>
      <td>10</td>
    </tr>
    <tr>
      <th>97</th>
      <td>Aallon Group Oyj</td>
      <td>48.31</td>
      <td>2.01</td>
      <td>4.07</td>
      <td>0.2</td>
      <td>1.87</td>
      <td>0</td>
    </tr>
    <tr>
      <th>98</th>
      <td>Telia Company AB</td>
      <td>48.54</td>
      <td>1.68</td>
      <td>1.9</td>
      <td>0.71</td>
      <td>4.79</td>
      <td>85</td>
    </tr>
    <tr>
      <th>99</th>
      <td>LeadDesk Oyj</td>
      <td>52.63</td>
      <td>8.53</td>
      <td>13.76</td>
      <td>0.41</td>
      <td>–</td>
      <td>10</td>
    </tr>
  </tbody>
</table>
<p>100 rows × 7 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">work_df</span><span class="p">[</span><span class="s1">&#39;P/E&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">work_df</span><span class="p">[</span><span class="s1">&#39;P/E&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;float&#39;</span><span class="p">)</span>

<span class="n">work_df</span><span class="p">[</span><span class="s1">&#39;P/S&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">work_df</span><span class="p">[</span><span class="s1">&#39;P/S&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;float&#39;</span><span class="p">)</span>

<span class="n">work_df</span><span class="p">[</span><span class="s1">&#39;P/B&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">work_df</span><span class="p">[</span><span class="s1">&#39;P/B&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;float&#39;</span><span class="p">)</span>

<span class="n">work_df</span><span class="p">[</span><span class="s1">&#39;Tulos/osake&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;–&#39;</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">work_df</span><span class="p">[</span><span class="s1">&#39;Tulos/osake&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">work_df</span><span class="p">[</span><span class="s1">&#39;Tulos/osake&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;float&#39;</span><span class="p">)</span>

<span class="n">work_df</span><span class="p">[</span><span class="s1">&#39;Osinkotuotto&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;–&#39;</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">work_df</span><span class="p">[</span><span class="s1">&#39;Osinkotuotto&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">work_df</span><span class="p">[</span><span class="s1">&#39;Osinkotuotto&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;float&#39;</span><span class="p">)</span>

<span class="n">work_df</span><span class="p">[</span><span class="s1">&#39;Lainoitusaste&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;–&#39;</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">work_df</span><span class="p">[</span><span class="s1">&#39;Lainoitusaste&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">work_df</span><span class="p">[</span><span class="s1">&#39;Lainoitusaste&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;float&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">work_df</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/12_BONUS-processing_unstructured_data_43_0.png" src="_images/12_BONUS-processing_unstructured_data_43_0.png" />
</div>
</div>
</div>
</div>
<div class="section" id="processing-text-data">
<h2><span class="section-number">21.3. </span>Processing text data<a class="headerlink" href="#processing-text-data" title="Permalink to this headline">¶</a></h2>
<div class="section" id="regular-experssions">
<h3><span class="section-number">21.3.1. </span>Regular experssions<a class="headerlink" href="#regular-experssions" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://www.regular-expressions.info/quickstart.html">https://www.regular-expressions.info/quickstart.html</a></p>
</div>
</div>
<div class="section" id="processing-video-and-images">
<h2><span class="section-number">21.4. </span>Processing video and images<a class="headerlink" href="#processing-video-and-images" title="Permalink to this headline">¶</a></h2>
<div class="section" id="satellite-data">
<h3><span class="section-number">21.4.1. </span>Satellite data<a class="headerlink" href="#satellite-data" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">netCDF4</span> <span class="kn">import</span> <span class="n">Dataset</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">my_example_nc_file</span> <span class="o">=</span> <span class="s1">&#39;S5P_NRTI_L2__NO2____20200309T105605_20200309T110105_12457_01_010302_20200309T114222.nc&#39;</span>
<span class="n">fh</span> <span class="o">=</span> <span class="n">Dataset</span><span class="p">(</span><span class="n">my_example_nc_file</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">fh</span><span class="o">.</span><span class="n">groups</span><span class="p">[</span><span class="s1">&#39;PRODUCT&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">variables</span><span class="p">[</span><span class="s1">&#39;nitrogendioxide_tropospheric_column_precision&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;netCDF4._netCDF4.Variable&#39;&gt;
float32 nitrogendioxide_tropospheric_column_precision(time, scanline, ground_pixel)
    units: mol m-2
    standard_name: troposphere_mole_content_of_nitrogen_dioxide standard_error
    long_name: Precision of the tropospheric vertical column of nitrogen dioxide
    coordinates: longitude latitude
    multiplication_factor_to_convert_to_molecules_percm2: 6.022141e+19
    _FillValue: 9.96921e+36
path = /PRODUCT
unlimited dimensions: 
current shape = (1, 373, 450)
filling on
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">lons</span> <span class="o">=</span> <span class="n">fh</span><span class="o">.</span><span class="n">groups</span><span class="p">[</span><span class="s1">&#39;PRODUCT&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">variables</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">][:][</span><span class="mi">0</span><span class="p">,:,:]</span>
<span class="n">lats</span> <span class="o">=</span> <span class="n">fh</span><span class="o">.</span><span class="n">groups</span><span class="p">[</span><span class="s1">&#39;PRODUCT&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">variables</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">][:][</span><span class="mi">0</span><span class="p">,:,:]</span>
<span class="n">no2</span> <span class="o">=</span> <span class="n">fh</span><span class="o">.</span><span class="n">groups</span><span class="p">[</span><span class="s1">&#39;PRODUCT&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">variables</span><span class="p">[</span><span class="s1">&#39;nitrogendioxide_tropospheric_column_precision&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">,:,:]</span>
<span class="nb">print</span> <span class="p">(</span><span class="n">lons</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span> <span class="p">(</span><span class="n">lats</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span> <span class="p">(</span><span class="n">no2</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(373, 450)
(373, 450)
(373, 450)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">no2_units</span> <span class="o">=</span> <span class="n">fh</span><span class="o">.</span><span class="n">groups</span><span class="p">[</span><span class="s1">&#39;PRODUCT&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">variables</span><span class="p">[</span><span class="s1">&#39;nitrogendioxide_tropospheric_column_precision&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">units</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">no2_units</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;mol m-2&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">matplotlib.colors</span> <span class="kn">import</span> <span class="n">LogNorm</span>
<span class="kn">from</span> <span class="nn">mpl_toolkits.basemap</span> <span class="kn">import</span> <span class="n">Basemap</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">lon_0</span> <span class="o">=</span> <span class="n">lons</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">lat_0</span> <span class="o">=</span> <span class="n">lats</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

<span class="n">m</span> <span class="o">=</span> <span class="n">Basemap</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">3000000</span><span class="p">,</span><span class="n">height</span><span class="o">=</span><span class="mi">2500000</span><span class="p">,</span>
            <span class="n">resolution</span><span class="o">=</span><span class="s1">&#39;l&#39;</span><span class="p">,</span><span class="n">projection</span><span class="o">=</span><span class="s1">&#39;stere&#39;</span><span class="p">,</span><span class="n">lat_0</span><span class="o">=</span><span class="n">lat_0</span><span class="p">,</span><span class="n">lon_0</span><span class="o">=</span><span class="n">lon_0</span><span class="p">)</span>

<span class="n">xi</span><span class="p">,</span> <span class="n">yi</span> <span class="o">=</span> <span class="n">m</span><span class="p">(</span><span class="n">lons</span><span class="p">,</span> <span class="n">lats</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
<span class="n">cs</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">pcolor</span><span class="p">(</span><span class="n">xi</span><span class="p">,</span><span class="n">yi</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">squeeze</span><span class="p">(</span><span class="n">no2</span><span class="p">),</span><span class="n">norm</span><span class="o">=</span><span class="n">LogNorm</span><span class="p">(),</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;jet&#39;</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">drawparallels</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="o">-</span><span class="mf">80.</span><span class="p">,</span> <span class="mf">81.</span><span class="p">,</span> <span class="mf">10.</span><span class="p">),</span> <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">drawmeridians</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="o">-</span><span class="mf">180.</span><span class="p">,</span> <span class="mf">181.</span><span class="p">,</span> <span class="mf">10.</span><span class="p">),</span> <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

<span class="c1"># Add Coastlines, States, and Country Boundaries</span>
<span class="n">m</span><span class="o">.</span><span class="n">drawcoastlines</span><span class="p">(</span><span class="n">linewidth</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">drawcountries</span><span class="p">(</span><span class="n">linewidth</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span>
<span class="n">cbar</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">cs</span><span class="p">,</span> <span class="n">location</span><span class="o">=</span><span class="s1">&#39;bottom&#39;</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="s2">&quot;10%&quot;</span><span class="p">)</span>
<span class="n">cbar</span><span class="o">.</span><span class="n">set_label</span><span class="p">(</span><span class="n">no2_units</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;test.png&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/12_BONUS-processing_unstructured_data_57_0.png" src="_images/12_BONUS-processing_unstructured_data_57_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">no2</span><span class="p">,</span><span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;hot&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.image.AxesImage at 0x173bea96488&gt;
</pre></div>
</div>
<img alt="_images/12_BONUS-processing_unstructured_data_58_1.png" src="_images/12_BONUS-processing_unstructured_data_58_1.png" />
</div>
</div>
</div>
</div>
<div class="section" id="speech-recognition-and-synthesis">
<h2><span class="section-number">21.5. </span>Speech recognition and synthesis<a class="headerlink" href="#speech-recognition-and-synthesis" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="feature-engineering">
<h2><span class="section-number">21.6. </span>Feature engineering<a class="headerlink" href="#feature-engineering" title="Permalink to this headline">¶</a></h2>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        
    <a class='left-prev' id="prev-link" href="11_Neural_NLP_methods.html" title="previous page"><span class="section-number">11. </span>Neural network models</a>

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Mikko Ranta<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="_static/js/index.d3f166471bb80abb5163.js"></script>


    
  </body>
</html>
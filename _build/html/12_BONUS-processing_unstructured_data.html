
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>22. Processing unstructured data &#8212; Data analytics in accounting</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = '12_BONUS-processing_unstructured_data';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="21. Transformers examples" href="11.2_Transformers_examples.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="book_intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/logo.png" class="logo__image only-light" alt="Data analytics in accounting - Home"/>
    <script>document.write(`<img src="_static/logo.png" class="logo__image only-dark" alt="Data analytics in accounting - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="book_intro.html">
                    Introduction to data analytics in accounting
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Basic data analytics in accounting</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="0_installing_Python.html">1. Installing Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="1_Intro_to_Python.html">2. Introduction to Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="2_Pandas_basics.html">3. Pandas data basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="3_Pandas_data_preprocessing.html">4. Pandas Data preprocessing</a></li>
<li class="toctree-l1"><a class="reference internal" href="4_Connecting_with_accounting_databases.html">5. Connecting with accounting databases</a></li>
<li class="toctree-l1"><a class="reference internal" href="5_Visualisation_with_Python.html">6. Visualisations with Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="6_Basic_statistics_with_Python.html">7. Basic statistics and time series analysis with Python</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Machine learning in accounting</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="7.1_ML_for_structured_data-classification.html">8. Machine learning for structured data - Classification</a></li>
<li class="toctree-l1"><a class="reference internal" href="7.2_ML_for_structured_data-regression.html">9. Machine learning for structured data - Regression</a></li>
<li class="toctree-l1"><a class="reference internal" href="7.3_ML_for_structured_data-xgboost_example.html">10. Example - Xgboost, state-of-the-art ensemble method for structured data</a></li>
<li class="toctree-l1"><a class="reference internal" href="7.4_ML_for_structured_data-example.html">11. Example of grid-search</a></li>
<li class="toctree-l1"><a class="reference internal" href="8_Decision_making_in_accounting.html">12. Decision making with ML in accounting</a></li>
<li class="toctree-l1"><a class="reference internal" href="9_Deep_learning_in_accounting.html">13. Deep learning in accounting</a></li>
<li class="toctree-l1"><a class="reference internal" href="9.1_Bonus_example.html">14. Bonus example - starting from scratch</a></li>
<li class="toctree-l1"><a class="reference internal" href="9.2_AccFin_example.html">15. Deep learning example from Accounting/Finance</a></li>
<li class="toctree-l1"><a class="reference internal" href="10_NLP_in_accounting.html">16. Introduction to natural language processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="10.1_LDA_bonus_example.html">17. Basic LDA example - An analysis of ~200 scientific articles</a></li>
<li class="toctree-l1"><a class="reference internal" href="10.2_Advanced_NLP_accfin.html">18. Advanced NLP and Accounting/Finance</a></li>
<li class="toctree-l1"><a class="reference internal" href="11_Neural_NLP_methods.html">19. Neural NLP models</a></li>
<li class="toctree-l1"><a class="reference internal" href="11.1_Neural_NLP_and_accfin.html">20. Neural NLP and accounting/finance</a></li>
<li class="toctree-l1"><a class="reference internal" href="11.2_Transformers_examples.html">21. Transformers examples</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">22. Processing unstructured data</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/12_BONUS-processing_unstructured_data.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Processing unstructured data</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#extracting-accounting-data-from-different-document-types">22.1. Extracting accounting data from different document types</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#json">22.1.1. JSON</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#xml">22.1.2. XML</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#xblr">22.1.3. XBLR</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pdf">22.1.4. PDF</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#extracting-data-from-the-internet">22.2. Extracting data from the Internet</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#social-media">22.2.1. Social media</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#structured-data">22.2.2. Structured data</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#processing-text-data">22.3. Processing text data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#regular-experssions">22.3.1. Regular experssions</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#processing-video-and-images">22.4. Processing video and images</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#satellite-data">22.4.1. Satellite data</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#speech-recognition-and-synthesis">22.5. Speech recognition and synthesis</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#feature-engineering">22.6. Feature engineering</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="processing-unstructured-data">
<h1><span class="section-number">22. </span>Processing unstructured data<a class="headerlink" href="#processing-unstructured-data" title="Link to this heading">#</a></h1>
<section id="extracting-accounting-data-from-different-document-types">
<h2><span class="section-number">22.1. </span>Extracting accounting data from different document types<a class="headerlink" href="#extracting-accounting-data-from-different-document-types" title="Link to this heading">#</a></h2>
<section id="json">
<h3><span class="section-number">22.1.1. </span>JSON<a class="headerlink" href="#json" title="Link to this heading">#</a></h3>
<p>JSON stands for JavaScript Object Notation. It is a popular format for transporting and storing data, especially in web-page management. Python has a built-in library for encoding/decoding JSON files. In the following are basic examples how to use it.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">json</span>
</pre></div>
</div>
</div>
</div>
<p>The format of JSON is very similar to a Python dictionary.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">json_example</span> <span class="o">=</span> <span class="s1">&#39;{ &quot;Company&quot;:&quot;Nokia&quot;, &quot;Country&quot;:&quot;Finland&quot;, &quot;ROA&quot;:0.12}&#39;</span>
</pre></div>
</div>
</div>
</div>
<p>loads() turns JSONs to dictionaries.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">result_dict</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">json_example</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">result_dict</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;Company&#39;: &#39;Nokia&#39;, &#39;Country&#39;: &#39;Finland&#39;, &#39;ROA&#39;: 0.12}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">result_dict</span><span class="p">[</span><span class="s1">&#39;ROA&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.12
</pre></div>
</div>
</div>
</div>
<p>dumps() can be used to change dictionaries to JSON objects.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pyth_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;Company&quot;</span><span class="p">:</span><span class="s2">&quot;Apple&quot;</span><span class="p">,</span> <span class="s2">&quot;Country&quot;</span><span class="p">:</span><span class="s2">&quot;USA&quot;</span><span class="p">,</span> <span class="s2">&quot;ROA&quot;</span><span class="p">:</span><span class="mf">0.17</span><span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">results_json</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">pyth_dict</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">results_json</span> <span class="c1"># Notice the outer single quotation marks.</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;{&quot;Company&quot;: &quot;Apple&quot;, &quot;Country&quot;: &quot;USA&quot;, &quot;ROA&quot;: 0.17}&#39;
</pre></div>
</div>
</div>
</div>
<p>More specifically, dumps() will change Python objects into JSON objects with the following rules:</p>
<ul class="simple">
<li><p>Python dict to JSON object</p></li>
<li><p>Python list to JSON array</p></li>
<li><p>Python tuple to JSON array</p></li>
<li><p>Python string to JSON string</p></li>
<li><p>Python int to JSON number</p></li>
<li><p>Python float to JSON number</p></li>
<li><p>Python boolean to JSON boolean</p></li>
<li><p>Python None to JSON null</p></li>
</ul>
<p>Very often, data providers set up API services to connect applications to databases. Often, these API services will use XML or JSON formats to exchange data between the client and the server. Therefore, it is essential to know how to read these files.</p>
<p>With json-library, you can use the built-in open() function to open a json file and json.loads() to transfer it to a Python object.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fd</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;company_tickers.json&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">comp_dict</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">fd</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">list</span><span class="p">(</span><span class="n">comp_dict</span><span class="o">.</span><span class="n">items</span><span class="p">())[:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[(&#39;0&#39;, {&#39;cik_str&#39;: 1750, &#39;ticker&#39;: &#39;AIR&#39;, &#39;title&#39;: &#39;AAR CORP&#39;}),
 (&#39;1&#39;, {&#39;cik_str&#39;: 1800, &#39;ticker&#39;: &#39;ABT&#39;, &#39;title&#39;: &#39;ABBOTT LABORATORIES&#39;}),
 (&#39;2&#39;, {&#39;cik_str&#39;: 1961, &#39;ticker&#39;: &#39;WDDD&#39;, &#39;title&#39;: &#39;WORLDS INC&#39;}),
 (&#39;3&#39;, {&#39;cik_str&#39;: 2034, &#39;ticker&#39;: &#39;ACET&#39;, &#39;title&#39;: &#39;ACETO CORP&#39;}),
 (&#39;4&#39;, {&#39;cik_str&#39;: 2034, &#39;ticker&#39;: &#39;ACETQ&#39;, &#39;title&#39;: &#39;ACETO CORP&#39;}),
 (&#39;5&#39;, {&#39;cik_str&#39;: 2098, &#39;ticker&#39;: &#39;ACU&#39;, &#39;title&#39;: &#39;ACME UNITED CORP&#39;}),
 (&#39;6&#39;,
  {&#39;cik_str&#39;: 2135,
   &#39;ticker&#39;: &#39;ACS&#39;,
   &#39;title&#39;: &#39;AFFILIATED COMPUTER SERVICES INC&#39;}),
 (&#39;7&#39;,
  {&#39;cik_str&#39;: 2178,
   &#39;ticker&#39;: &#39;AE&#39;,
   &#39;title&#39;: &#39;ADAMS RESOURCES &amp; ENERGY, INC.&#39;}),
 (&#39;8&#39;, {&#39;cik_str&#39;: 2186, &#39;ticker&#39;: &#39;BKTI&#39;, &#39;title&#39;: &#39;BK Technologies Corp&#39;}),
 (&#39;9&#39;,
  {&#39;cik_str&#39;: 2230,
   &#39;ticker&#39;: &#39;ADX&#39;,
   &#39;title&#39;: &#39;ADAMS DIVERSIFIED EQUITY FUND, INC.&#39;})]
</pre></div>
</div>
</div>
</div>
<p>Pandas has also functios to read JSON objects</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">json_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_json</span><span class="p">(</span><span class="s1">&#39;company_tickers.json&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">json_df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
      <th>5</th>
      <th>6</th>
      <th>7</th>
      <th>8</th>
      <th>9</th>
      <th>...</th>
      <th>13623</th>
      <th>13624</th>
      <th>13625</th>
      <th>13626</th>
      <th>13627</th>
      <th>13628</th>
      <th>13629</th>
      <th>13630</th>
      <th>13631</th>
      <th>13632</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>cik_str</th>
      <td>1750</td>
      <td>1800</td>
      <td>1961</td>
      <td>2034</td>
      <td>2034</td>
      <td>2098</td>
      <td>2135</td>
      <td>2178</td>
      <td>2186</td>
      <td>2230</td>
      <td>...</td>
      <td>1787791</td>
      <td>1788028</td>
      <td>1788028</td>
      <td>1788841</td>
      <td>1789760</td>
      <td>1789760</td>
      <td>1789832</td>
      <td>1790625</td>
      <td>1791091</td>
      <td>1791091</td>
    </tr>
    <tr>
      <th>ticker</th>
      <td>AIR</td>
      <td>ABT</td>
      <td>WDDD</td>
      <td>ACET</td>
      <td>ACETQ</td>
      <td>ACU</td>
      <td>ACS</td>
      <td>AE</td>
      <td>BKTI</td>
      <td>ADX</td>
      <td>...</td>
      <td>JIH</td>
      <td>AMHC</td>
      <td>AMHCU</td>
      <td>GRNV</td>
      <td>CIIC</td>
      <td>CIICU</td>
      <td>HESM</td>
      <td>LIVK</td>
      <td>HCCO</td>
      <td>HCCOU</td>
    </tr>
    <tr>
      <th>title</th>
      <td>AAR CORP</td>
      <td>ABBOTT LABORATORIES</td>
      <td>WORLDS INC</td>
      <td>ACETO CORP</td>
      <td>ACETO CORP</td>
      <td>ACME UNITED CORP</td>
      <td>AFFILIATED COMPUTER SERVICES INC</td>
      <td>ADAMS RESOURCES &amp; ENERGY, INC.</td>
      <td>BK Technologies Corp</td>
      <td>ADAMS DIVERSIFIED EQUITY FUND, INC.</td>
      <td>...</td>
      <td>Juniper Industrial Holdings, Inc.</td>
      <td>Amplitude Healthcare Acquisition Corp</td>
      <td>Amplitude Healthcare Acquisition Corp</td>
      <td>GreenVision Acquisition Corp.</td>
      <td>CIIG Merger Corp.</td>
      <td>CIIG Merger Corp.</td>
      <td>Hess Midstream LP</td>
      <td>LIV Capital Acquisition Corp.</td>
      <td>Healthcare Merger Corp.</td>
      <td>Healthcare Merger Corp.</td>
    </tr>
  </tbody>
</table>
<p>3 rows √ó 13633 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">json_df</span><span class="o">.</span><span class="n">transpose</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>cik_str</th>
      <th>ticker</th>
      <th>title</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1750</td>
      <td>AIR</td>
      <td>AAR CORP</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1800</td>
      <td>ABT</td>
      <td>ABBOTT LABORATORIES</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1961</td>
      <td>WDDD</td>
      <td>WORLDS INC</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2034</td>
      <td>ACET</td>
      <td>ACETO CORP</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2034</td>
      <td>ACETQ</td>
      <td>ACETO CORP</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>13628</th>
      <td>1789760</td>
      <td>CIICU</td>
      <td>CIIG Merger Corp.</td>
    </tr>
    <tr>
      <th>13629</th>
      <td>1789832</td>
      <td>HESM</td>
      <td>Hess Midstream LP</td>
    </tr>
    <tr>
      <th>13630</th>
      <td>1790625</td>
      <td>LIVK</td>
      <td>LIV Capital Acquisition Corp.</td>
    </tr>
    <tr>
      <th>13631</th>
      <td>1791091</td>
      <td>HCCO</td>
      <td>Healthcare Merger Corp.</td>
    </tr>
    <tr>
      <th>13632</th>
      <td>1791091</td>
      <td>HCCOU</td>
      <td>Healthcare Merger Corp.</td>
    </tr>
  </tbody>
</table>
<p>13633 rows √ó 3 columns</p>
</div></div></div>
</div>
</section>
<section id="xml">
<h3><span class="section-number">22.1.2. </span>XML<a class="headerlink" href="#xml" title="Link to this heading">#</a></h3>
<p>XML is another important format, when you are acquiring data from the web using APIs. The following link has a lot of information how to use Python to process XML documents.</p>
<p><a class="reference external" href="https://docs.python.org/3/library/xml.etree.elementtree.html">https://docs.python.org/3/library/xml.etree.elementtree.html</a></p>
</section>
<section id="xblr">
<h3><span class="section-number">22.1.3. </span>XBLR<a class="headerlink" href="#xblr" title="Link to this heading">#</a></h3>
<p>XBLR is a very important data format for accounting/finance. It is an universal reporting standard that allows financial statement information to be downloaded directly into spreadsheets. The following links provide information how to process XBLR documents in Python.</p>
<p><a class="reference external" href="https://pypi.org/project/python-xbrl/">https://pypi.org/project/python-xbrl/</a></p>
<p><a class="reference external" href="https://www.codeproject.com/Articles/1227268/Accessing-Financial-Reports-in-the-EDGAR-Database">https://www.codeproject.com/Articles/1227268/Accessing-Financial-Reports-in-the-EDGAR-Database</a></p>
<p><a class="reference external" href="https://www.codeproject.com/Articles/1227765/Parsing-XBRL-with-Python">https://www.codeproject.com/Articles/1227765/Parsing-XBRL-with-Python</a></p>
</section>
<section id="pdf">
<h3><span class="section-number">22.1.4. </span>PDF<a class="headerlink" href="#pdf" title="Link to this heading">#</a></h3>
<p>Very often, the information from companies is in the form of pdf documents. For analysis in Python, they need to be changed to textual form. They are many ways to do that, like specialized software, webpages etc.</p>
<p>Python also has many libraries that can be used to process pdf documents. In my opinion, PDFMiner is one of the best ones.</p>
<p>Below is a code that can efficiently change PDF documents to textual form. I found it from the internet, so no credits for me.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pdfminer.pdfparser</span> <span class="kn">import</span> <span class="n">PDFParser</span>
<span class="kn">from</span> <span class="nn">pdfminer.pdfdocument</span> <span class="kn">import</span> <span class="n">PDFDocument</span>
<span class="kn">from</span> <span class="nn">pdfminer.pdfpage</span> <span class="kn">import</span> <span class="n">PDFPage</span>
<span class="c1"># From PDFInterpreter import both PDFResourceManager and PDFPageInterpreter</span>
<span class="kn">from</span> <span class="nn">pdfminer.pdfinterp</span> <span class="kn">import</span> <span class="n">PDFResourceManager</span><span class="p">,</span> <span class="n">PDFPageInterpreter</span>
<span class="kn">from</span> <span class="nn">pdfminer.pdfdevice</span> <span class="kn">import</span> <span class="n">PDFDevice</span>
<span class="c1"># Import this to raise exception whenever text extraction from PDF is not allowed</span>
<span class="kn">from</span> <span class="nn">pdfminer.pdfpage</span> <span class="kn">import</span> <span class="n">PDFTextExtractionNotAllowed</span>
<span class="kn">from</span> <span class="nn">pdfminer.layout</span> <span class="kn">import</span> <span class="n">LAParams</span><span class="p">,</span> <span class="n">LTTextBox</span><span class="p">,</span> <span class="n">LTTextLine</span>
<span class="kn">from</span> <span class="nn">pdfminer.converter</span> <span class="kn">import</span> <span class="n">PDFPageAggregator</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">convert_pdfminer</span><span class="p">(</span><span class="n">fname</span><span class="p">):</span>
        <span class="n">fp</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">fname</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span>
        <span class="n">parser</span> <span class="o">=</span> <span class="n">PDFParser</span><span class="p">(</span><span class="n">fp</span><span class="p">)</span>
        <span class="n">doc</span> <span class="o">=</span> <span class="n">PDFDocument</span><span class="p">(</span><span class="n">parser</span><span class="p">)</span>
        <span class="n">rsrcmgr</span> <span class="o">=</span> <span class="n">PDFResourceManager</span><span class="p">()</span>
        <span class="n">laparams</span> <span class="o">=</span> <span class="n">LAParams</span><span class="p">()</span>
        <span class="n">device</span> <span class="o">=</span> <span class="n">PDFPageAggregator</span><span class="p">(</span><span class="n">rsrcmgr</span><span class="p">,</span> <span class="n">laparams</span><span class="o">=</span><span class="n">laparams</span><span class="p">)</span>
        <span class="n">interpreter</span> <span class="o">=</span> <span class="n">PDFPageInterpreter</span><span class="p">(</span><span class="n">rsrcmgr</span><span class="p">,</span> <span class="n">device</span><span class="p">)</span>
        <span class="n">text</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="k">for</span> <span class="n">page</span> <span class="ow">in</span> <span class="n">PDFPage</span><span class="o">.</span><span class="n">create_pages</span><span class="p">(</span><span class="n">doc</span><span class="p">):</span>
            <span class="n">interpreter</span><span class="o">.</span><span class="n">process_page</span><span class="p">(</span><span class="n">page</span><span class="p">)</span>
            <span class="n">layout</span> <span class="o">=</span> <span class="n">device</span><span class="o">.</span><span class="n">get_result</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">lt_obj</span> <span class="ow">in</span> <span class="n">layout</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">lt_obj</span><span class="p">,</span> <span class="n">LTTextBox</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">lt_obj</span><span class="p">,</span> <span class="n">LTTextLine</span><span class="p">):</span>
                    <span class="n">text</span> <span class="o">+=</span> <span class="n">lt_obj</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">text</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="extracting-data-from-the-internet">
<h2><span class="section-number">22.2. </span>Extracting data from the Internet<a class="headerlink" href="#extracting-data-from-the-internet" title="Link to this heading">#</a></h2>
<section id="social-media">
<h3><span class="section-number">22.2.1. </span>Social media<a class="headerlink" href="#social-media" title="Link to this heading">#</a></h3>
<p>Tweepy is an excellent library for Twitter API.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span>  <span class="nn">tweepy</span>
</pre></div>
</div>
</div>
</div>
<p>You need a permission from Twitter to use their API. In return, they will send you the necessary keys to use the API. Replace <em>Customer user key</em> and <em>Customer secret key</em> with your personal keys.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">auth</span> <span class="o">=</span> <span class="n">tweepy</span><span class="o">.</span><span class="n">OAuthHandler</span><span class="p">(</span><span class="n">Customer</span> <span class="n">user</span> <span class="n">key</span><span class="p">,</span> <span class="n">Customer</span> <span class="n">secret</span> <span class="n">key</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="n">redirect_url</span> <span class="o">=</span> <span class="n">auth</span><span class="o">.</span><span class="n">get_authorization_url</span><span class="p">()</span>
<span class="k">except</span> <span class="n">tweepy</span><span class="o">.</span><span class="n">TweepError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Error! Failed to get request token.&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">api</span> <span class="o">=</span> <span class="n">tweepy</span><span class="o">.</span><span class="n">API</span><span class="p">(</span><span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">user</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">get_user</span><span class="p">(</span><span class="s1">&#39;twitter&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">user</span><span class="o">.</span><span class="n">name</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;Twitter&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">user</span><span class="o">.</span><span class="n">followers_count</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>59478986
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">search_words</span> <span class="o">=</span> <span class="s2">&quot;#blockchain&quot;</span>
<span class="n">date_since</span> <span class="o">=</span> <span class="s2">&quot;2020-01-01&quot;</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tweets</span> <span class="o">=</span> <span class="n">tweepy</span><span class="o">.</span><span class="n">Cursor</span><span class="p">(</span><span class="n">api</span><span class="o">.</span><span class="n">search</span><span class="p">,</span>
              <span class="n">q</span><span class="o">=</span><span class="n">search_words</span><span class="p">,</span>
              <span class="n">lang</span><span class="o">=</span><span class="s2">&quot;en&quot;</span><span class="p">,</span>
              <span class="n">since</span><span class="o">=</span><span class="n">date_since</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">tweet</span> <span class="ow">in</span> <span class="n">tweets</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">tweet</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>RT @jamilahmed_16: Buy 1 Get 2 offer #Edureka Courses

https://t.co/BdDunPHkJV

#node #nodejs #javascript #npm #coding #webdesign #js #sql‚Ä¶
RT @PaniniAmerica: Tomorrow at 10 a.m. CST! @PaniniAmerica launches the 2021 Immaculate Blockchain initiative ‚Äî a 10-week release featuring‚Ä¶
Buy 1 Get 2 offer #Edureka Courses

https://t.co/BdDunPHkJV

#node #nodejs #javascript #npm #coding #webdesign #js‚Ä¶ https://t.co/e6WxLOp7FY
RT @EpikNFT: #NFTCommunity let&#39;s go üî•üöÄ

Put your best NFT&#39;s in the commentsüëá

Retweet and like for exposure BLAST!

#nftart #nftcollector #‚Ä¶
RT @ethrollcasino: The ETR sale starts in just 48 hours!

Visit out website for more info! https://t.co/tCn1QKe2FY

#EthRollHype #EthRollMo‚Ä¶
RT @MinaProtocol: Mina&#39;s first virtual summit #IlluminateGenesisüí°is now LIVE! üéä 

Join our free #blockchain event, featuring panels and ses‚Ä¶
RT @Gemini: 4/8 SKALE $SKL is an ERC-777 standard utility token used to support application deployment on the @SkaleNetwork, a layer-2 #blo‚Ä¶
@georginacastens @rariblecom üéÅ Don‚Äôt buy an old shiny rock, buy LBY Coin.üíé 

#blockchain #interoperability #thefastestblockchain #Libonomy
RT @ethrollcasino: The ETR sale starts in just 48 hours!

Visit out website for more info! https://t.co/tCn1QKe2FY

#EthRollHype #EthRollMo‚Ä¶
RT @FinanceChainge: Seeing Chainge through the eyes of our community members is always inspiring and pushes us forward knowing our app&#39;s po‚Ä¶
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tweets</span> <span class="o">=</span> <span class="n">tweepy</span><span class="o">.</span><span class="n">Cursor</span><span class="p">(</span><span class="n">api</span><span class="o">.</span><span class="n">search</span><span class="p">,</span> 
                           <span class="n">q</span><span class="o">=</span><span class="n">search_words</span><span class="p">,</span>
                           <span class="n">lang</span><span class="o">=</span><span class="s2">&quot;en&quot;</span><span class="p">,</span>
                           <span class="n">since</span><span class="o">=</span><span class="n">date_since</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

<span class="n">users_locs</span> <span class="o">=</span> <span class="p">[[</span><span class="n">tweet</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">screen_name</span><span class="p">,</span> <span class="n">tweet</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">location</span><span class="p">]</span> <span class="k">for</span> <span class="n">tweet</span> <span class="ow">in</span> <span class="n">tweets</span><span class="p">]</span>
<span class="n">users_locs</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[[&#39;AlbanoVfx&#39;, &#39;Brazil&#39;],
 [&#39;cg1907BC&#39;, &#39;Paderborn, Germany&#39;],
 [&#39;RaverCrypto&#39;, &#39;&#39;],
 [&#39;Jojojo63407320&#39;, &#39;&#39;],
 [&#39;AbdulBa58799299&#39;, &#39;&#39;],
 [&#39;Rana01744715781&#39;, &#39;&#39;],
 [&#39;flipzide&#39;, &#39;Metaverse&#39;],
 [&#39;RajeshKSuri&#39;, &#39;New Delhi&#39;],
 [&#39;SurajKu83832715&#39;, &#39;&#39;],
 [&#39;robertcastelo&#39;, &#39;London&#39;]]
</pre></div>
</div>
</div>
</div>
</section>
<section id="structured-data">
<h3><span class="section-number">22.2.2. </span>Structured data<a class="headerlink" href="#structured-data" title="Link to this heading">#</a></h3>
<p>Below is an example that collects information from the internet to a structured format (dataframe) using Pandas <em>read_html</em> -function.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">test_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_html</span><span class="p">(</span><span class="s1">&#39;https://www.nordnet.fi/markkinakatsaus/osakekurssit?selectedTab=keyFigures&amp;sortField=pe&amp;sortOrder=asc&amp;exchangeCountry=FI&#39;</span><span class="p">,</span><span class="n">decimal</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">work_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>

<span class="n">work_df</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">test_df</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;Nimi&#39;</span><span class="p">]</span>

<span class="n">work_df</span><span class="p">[</span><span class="s1">&#39;P/E&#39;</span><span class="p">]</span><span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span> <span class="ow">in</span> <span class="n">test_df</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;P/S&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)]</span>

<span class="n">work_df</span><span class="p">[</span><span class="s1">&#39;P/S&#39;</span><span class="p">]</span><span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span> <span class="ow">in</span> <span class="n">test_df</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;P/B&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)]</span>

<span class="n">work_df</span><span class="p">[</span><span class="s1">&#39;P/B&#39;</span><span class="p">]</span><span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span> <span class="ow">in</span> <span class="n">test_df</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;Tulos/osake&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)]</span>

<span class="n">temp_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">test_df</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;Osinkotuotto&#39;</span><span class="p">]:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">temp_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="n">temp_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        
<span class="n">work_df</span><span class="p">[</span><span class="s1">&#39;Tulos/osake&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">temp_list</span>

<span class="n">temp_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">test_df</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;Osinko/osake&#39;</span><span class="p">]:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">temp_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="n">temp_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        
<span class="n">work_df</span><span class="p">[</span><span class="s1">&#39;Osinkotuotto&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">temp_list</span>

<span class="n">temp_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">test_df</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;Unnamed: 11&#39;</span><span class="p">]:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">temp_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="n">temp_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        
<span class="n">work_df</span><span class="p">[</span><span class="s1">&#39;Lainoitusaste&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">temp_list</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">work_df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Name</th>
      <th>P/E</th>
      <th>P/S</th>
      <th>P/B</th>
      <th>Tulos/osake</th>
      <th>Osinkotuotto</th>
      <th>Lainoitusaste</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Nexstim Oyj</td>
      <td>0.26</td>
      <td>2.72</td>
      <td>84.03</td>
      <td>0.22</td>
      <td>‚Äì</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Fondia Oyj</td>
      <td>7.61</td>
      <td>1.46</td>
      <td>4.93</td>
      <td>0.97</td>
      <td>‚Äì</td>
      <td>10</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Sievi Capital plc</td>
      <td>8.38</td>
      <td>4.88</td>
      <td>0.89</td>
      <td>0.12</td>
      <td>‚Äì</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Scanfil Plc</td>
      <td>8.54</td>
      <td>0.63</td>
      <td>2.06</td>
      <td>0.68</td>
      <td>2.62</td>
      <td>40</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Honkarakenne Oyj B</td>
      <td>8.58</td>
      <td>0.46</td>
      <td>1.72</td>
      <td>0.43</td>
      <td>‚Äì</td>
      <td>10</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>95</th>
      <td>KONE Corporation</td>
      <td>39.22</td>
      <td>3.67</td>
      <td>12.74</td>
      <td>1.81</td>
      <td>2.39</td>
      <td>85</td>
    </tr>
    <tr>
      <th>96</th>
      <td>Gofore Plc</td>
      <td>42.74</td>
      <td>2.63</td>
      <td>5.78</td>
      <td>0.3</td>
      <td>1.56</td>
      <td>10</td>
    </tr>
    <tr>
      <th>97</th>
      <td>Aallon Group Oyj</td>
      <td>48.31</td>
      <td>2.01</td>
      <td>4.07</td>
      <td>0.2</td>
      <td>1.87</td>
      <td>0</td>
    </tr>
    <tr>
      <th>98</th>
      <td>Telia Company AB</td>
      <td>48.54</td>
      <td>1.68</td>
      <td>1.9</td>
      <td>0.71</td>
      <td>4.79</td>
      <td>85</td>
    </tr>
    <tr>
      <th>99</th>
      <td>LeadDesk Oyj</td>
      <td>52.63</td>
      <td>8.53</td>
      <td>13.76</td>
      <td>0.41</td>
      <td>‚Äì</td>
      <td>10</td>
    </tr>
  </tbody>
</table>
<p>100 rows √ó 7 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">work_df</span><span class="p">[</span><span class="s1">&#39;P/E&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">work_df</span><span class="p">[</span><span class="s1">&#39;P/E&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;float&#39;</span><span class="p">)</span>

<span class="n">work_df</span><span class="p">[</span><span class="s1">&#39;P/S&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">work_df</span><span class="p">[</span><span class="s1">&#39;P/S&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;float&#39;</span><span class="p">)</span>

<span class="n">work_df</span><span class="p">[</span><span class="s1">&#39;P/B&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">work_df</span><span class="p">[</span><span class="s1">&#39;P/B&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;float&#39;</span><span class="p">)</span>

<span class="n">work_df</span><span class="p">[</span><span class="s1">&#39;Tulos/osake&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;‚Äì&#39;</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">work_df</span><span class="p">[</span><span class="s1">&#39;Tulos/osake&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">work_df</span><span class="p">[</span><span class="s1">&#39;Tulos/osake&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;float&#39;</span><span class="p">)</span>

<span class="n">work_df</span><span class="p">[</span><span class="s1">&#39;Osinkotuotto&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;‚Äì&#39;</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">work_df</span><span class="p">[</span><span class="s1">&#39;Osinkotuotto&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">work_df</span><span class="p">[</span><span class="s1">&#39;Osinkotuotto&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;float&#39;</span><span class="p">)</span>

<span class="n">work_df</span><span class="p">[</span><span class="s1">&#39;Lainoitusaste&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;‚Äì&#39;</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">work_df</span><span class="p">[</span><span class="s1">&#39;Lainoitusaste&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">work_df</span><span class="p">[</span><span class="s1">&#39;Lainoitusaste&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;float&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">work_df</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/1fae92b609399d8efe5f0364bfed0e60af7005ffb704a1a9602152cdf7b04c0b.png" src="_images/1fae92b609399d8efe5f0364bfed0e60af7005ffb704a1a9602152cdf7b04c0b.png" />
</div>
</div>
</section>
</section>
<section id="processing-text-data">
<h2><span class="section-number">22.3. </span>Processing text data<a class="headerlink" href="#processing-text-data" title="Link to this heading">#</a></h2>
<p>The straightforward way to process text data is to use <em>regular expressions</em>. They are very efficient, but unfortunately, very difficult. Luckily, many NLP libraries have good text processing tools available. Especially good is Natural Language Toolkit (<a class="reference external" href="https://www.nltk.org/">https://www.nltk.org/</a>).</p>
<section id="regular-experssions">
<h3><span class="section-number">22.3.1. </span>Regular experssions<a class="headerlink" href="#regular-experssions" title="Link to this heading">#</a></h3>
<p><a class="reference external" href="https://www.regular-expressions.info/quickstart.html">https://www.regular-expressions.info/quickstart.html</a></p>
</section>
</section>
<section id="processing-video-and-images">
<h2><span class="section-number">22.4. </span>Processing video and images<a class="headerlink" href="#processing-video-and-images" title="Link to this heading">#</a></h2>
<section id="satellite-data">
<h3><span class="section-number">22.4.1. </span>Satellite data<a class="headerlink" href="#satellite-data" title="Link to this heading">#</a></h3>
<p>Below is an exaxmple, where NO2 observations from Sentinel 5P satellite (<a class="reference external" href="https://sentinel.esa.int/web/sentinel/missions/sentinel-5p">https://sentinel.esa.int/web/sentinel/missions/sentinel-5p</a>) are processed to usable image form in Python.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">netCDF4</span> <span class="kn">import</span> <span class="n">Dataset</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
</pre></div>
</div>
</div>
</div>
<p>ESA provides data from Sentinel satellites using NetCDF file format. From <a class="reference external" href="http://pro.arcgis.com">pro.arcgis.com</a>: ‚ÄúNetCDF (network Common Data Form) is a file format for storing multidimensional scientific data (variables) such as temperature, humidity, pressure, wind speed, and direction. Each of these variables can be displayed through a dimension (such as time) in ArcGIS by making a layer or table view from the netCDF file.‚Äù</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">my_example_nc_file</span> <span class="o">=</span> <span class="s1">&#39;S5P_NRTI_L2__NO2____20200309T105605_20200309T110105_12457_01_010302_20200309T114222.nc&#39;</span>
<span class="n">fh</span> <span class="o">=</span> <span class="n">Dataset</span><span class="p">(</span><span class="n">my_example_nc_file</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">fh</span><span class="o">.</span><span class="n">groups</span><span class="p">[</span><span class="s1">&#39;PRODUCT&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">variables</span><span class="p">[</span><span class="s1">&#39;nitrogendioxide_tropospheric_column_precision&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;netCDF4._netCDF4.Variable&#39;&gt;
float32 nitrogendioxide_tropospheric_column_precision(time, scanline, ground_pixel)
    units: mol m-2
    standard_name: troposphere_mole_content_of_nitrogen_dioxide standard_error
    long_name: Precision of the tropospheric vertical column of nitrogen dioxide
    coordinates: longitude latitude
    multiplication_factor_to_convert_to_molecules_percm2: 6.022141e+19
    _FillValue: 9.96921e+36
path = /PRODUCT
unlimited dimensions: 
current shape = (1, 373, 450)
filling on
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">lons</span> <span class="o">=</span> <span class="n">fh</span><span class="o">.</span><span class="n">groups</span><span class="p">[</span><span class="s1">&#39;PRODUCT&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">variables</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">][:][</span><span class="mi">0</span><span class="p">,:,:]</span>
<span class="n">lats</span> <span class="o">=</span> <span class="n">fh</span><span class="o">.</span><span class="n">groups</span><span class="p">[</span><span class="s1">&#39;PRODUCT&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">variables</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">][:][</span><span class="mi">0</span><span class="p">,:,:]</span>
<span class="n">no2</span> <span class="o">=</span> <span class="n">fh</span><span class="o">.</span><span class="n">groups</span><span class="p">[</span><span class="s1">&#39;PRODUCT&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">variables</span><span class="p">[</span><span class="s1">&#39;nitrogendioxide_tropospheric_column_precision&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">,:,:]</span>
<span class="nb">print</span> <span class="p">(</span><span class="n">lons</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span> <span class="p">(</span><span class="n">lats</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span> <span class="p">(</span><span class="n">no2</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(373, 450)
(373, 450)
(373, 450)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">no2_units</span> <span class="o">=</span> <span class="n">fh</span><span class="o">.</span><span class="n">groups</span><span class="p">[</span><span class="s1">&#39;PRODUCT&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">variables</span><span class="p">[</span><span class="s1">&#39;nitrogendioxide_tropospheric_column_precision&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">units</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">no2_units</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;mol m-2&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">matplotlib.colors</span> <span class="kn">import</span> <span class="n">LogNorm</span>
<span class="kn">from</span> <span class="nn">mpl_toolkits.basemap</span> <span class="kn">import</span> <span class="n">Basemap</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">lon_0</span> <span class="o">=</span> <span class="n">lons</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">lat_0</span> <span class="o">=</span> <span class="n">lats</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

<span class="n">m</span> <span class="o">=</span> <span class="n">Basemap</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">3000000</span><span class="p">,</span><span class="n">height</span><span class="o">=</span><span class="mi">2500000</span><span class="p">,</span>
            <span class="n">resolution</span><span class="o">=</span><span class="s1">&#39;l&#39;</span><span class="p">,</span><span class="n">projection</span><span class="o">=</span><span class="s1">&#39;stere&#39;</span><span class="p">,</span><span class="n">lat_0</span><span class="o">=</span><span class="n">lat_0</span><span class="p">,</span><span class="n">lon_0</span><span class="o">=</span><span class="n">lon_0</span><span class="p">)</span>

<span class="n">xi</span><span class="p">,</span> <span class="n">yi</span> <span class="o">=</span> <span class="n">m</span><span class="p">(</span><span class="n">lons</span><span class="p">,</span> <span class="n">lats</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
<span class="n">cs</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">pcolor</span><span class="p">(</span><span class="n">xi</span><span class="p">,</span><span class="n">yi</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">squeeze</span><span class="p">(</span><span class="n">no2</span><span class="p">),</span><span class="n">norm</span><span class="o">=</span><span class="n">LogNorm</span><span class="p">(),</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;jet&#39;</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">drawparallels</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="o">-</span><span class="mf">80.</span><span class="p">,</span> <span class="mf">81.</span><span class="p">,</span> <span class="mf">10.</span><span class="p">),</span> <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">drawmeridians</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="o">-</span><span class="mf">180.</span><span class="p">,</span> <span class="mf">181.</span><span class="p">,</span> <span class="mf">10.</span><span class="p">),</span> <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

<span class="c1"># Add Coastlines, States, and Country Boundaries</span>
<span class="n">m</span><span class="o">.</span><span class="n">drawcoastlines</span><span class="p">(</span><span class="n">linewidth</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">drawcountries</span><span class="p">(</span><span class="n">linewidth</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span>
<span class="n">cbar</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">cs</span><span class="p">,</span> <span class="n">location</span><span class="o">=</span><span class="s1">&#39;bottom&#39;</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="s2">&quot;10%&quot;</span><span class="p">)</span>
<span class="n">cbar</span><span class="o">.</span><span class="n">set_label</span><span class="p">(</span><span class="n">no2_units</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;test.png&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/c5594a41a77db43b191132c7a1e62d31081b71ae17e4f8376661316d5f810d6f.png" src="_images/c5594a41a77db43b191132c7a1e62d31081b71ae17e4f8376661316d5f810d6f.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">no2</span><span class="p">,</span><span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;hot&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.image.AxesImage at 0x173bea96488&gt;
</pre></div>
</div>
<img alt="_images/99cf9e12af3c736671faf371e276439f83c222c145f6b27c87db80369e1bcc5b.png" src="_images/99cf9e12af3c736671faf371e276439f83c222c145f6b27c87db80369e1bcc5b.png" />
</div>
</div>
</section>
</section>
<section id="speech-recognition-and-synthesis">
<h2><span class="section-number">22.5. </span>Speech recognition and synthesis<a class="headerlink" href="#speech-recognition-and-synthesis" title="Link to this heading">#</a></h2>
</section>
<section id="feature-engineering">
<h2><span class="section-number">22.6. </span>Feature engineering<a class="headerlink" href="#feature-engineering" title="Link to this heading">#</a></h2>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="11.2_Transformers_examples.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">21. </span>Transformers examples</p>
      </div>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#extracting-accounting-data-from-different-document-types">22.1. Extracting accounting data from different document types</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#json">22.1.1. JSON</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#xml">22.1.2. XML</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#xblr">22.1.3. XBLR</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pdf">22.1.4. PDF</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#extracting-data-from-the-internet">22.2. Extracting data from the Internet</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#social-media">22.2.1. Social media</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#structured-data">22.2.2. Structured data</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#processing-text-data">22.3. Processing text data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#regular-experssions">22.3.1. Regular experssions</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#processing-video-and-images">22.4. Processing video and images</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#satellite-data">22.4.1. Satellite data</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#speech-recognition-and-synthesis">22.5. Speech recognition and synthesis</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#feature-engineering">22.6. Feature engineering</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Mikko Ranta
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      ¬© Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>